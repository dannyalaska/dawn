{
  "definition": {
    "name": "support_kpis",
    "feed_identifier": "support_tickets",
    "description": "Filter resolved tickets, normalize column names, and keep the fields used for KPI reporting.",
    "steps": [
      {
        "type": "filter",
        "column": "Status",
        "op": "eq",
        "value": "Resolved"
      },
      {
        "type": "rename",
        "mapping": {
          "Resolution_Time_Hours": "resolution_hours",
          "Customer_Satisfaction": "csat_score"
        }
      },
      {
        "type": "cast",
        "column": "Submitted",
        "dtype": "datetime"
      },
      {
        "type": "select",
        "columns": [
          "Ticket_ID",
          "Submitted",
          "Agent",
          "Team",
          "Priority",
          "Region",
          "resolution_hours",
          "csat_score"
        ]
      }
    ]
  },
  "sample_rows": [
    {
      "Ticket_ID": 1001,
      "Submitted": "2024-04-01",
      "Agent": "Alex",
      "Team": "Support",
      "Priority": "High",
      "Status": "Resolved",
      "Resolution_Time_Hours": 5.4,
      "Customer_Satisfaction": 4.8,
      "Channel": "Email",
      "Tags": "billing,upgrade",
      "Region": "NA"
    },
    {
      "Ticket_ID": 1002,
      "Submitted": "2024-04-02",
      "Agent": "Priya",
      "Team": "Support",
      "Priority": "Medium",
      "Status": "Resolved",
      "Resolution_Time_Hours": 8.2,
      "Customer_Satisfaction": 4.5,
      "Channel": "Chat",
      "Tags": "onboarding",
      "Region": "EMEA"
    },
    {
      "Ticket_ID": 1003,
      "Submitted": "2024-04-03",
      "Agent": "Luis",
      "Team": "Support",
      "Priority": "High",
      "Status": "Escalated",
      "Resolution_Time_Hours": 15.7,
      "Customer_Satisfaction": 3.9,
      "Channel": "Email",
      "Tags": "outage",
      "Region": "LATAM"
    }
  ]
}
